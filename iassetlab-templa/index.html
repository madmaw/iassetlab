<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "ht`tp://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta name = "viewport" content = "initial-scale = 1.0, maximum-scale = 1.0, user-scalable = no, width = device-width"/>

    <title>Templa Samples Loading...</title>

    <!-- fool android browser into working with dummy entry?! -->
    <script src="lib/empty.js" language="javascript"></script>
    <script src="lib/handlebars-1.0.10.js" language="javascript"></script>
    <script src="lib/jquery-1.9.1.js" language="javascript"></script>
    <script src="lib/jquery-ui-1.10.2.js" language="javascript"></script>
    <script src="lib/rison-0.9.2.js" language="javascript"></script>
    <script src="target/dist/iassetlab-templa.js" language="javascript"></script>
    <script src="target/dist/iassetlab-templa-samples.js" language="javascript"></script>
    <link rel="stylesheet" href="src/samples/css/absolute_animations.css">
    <link rel="stylesheet" href="src/samples/css/relative_animations.css">
    <link rel="stylesheet" href="src/samples/css/samples.css">
    <link rel="stylesheet" href="src/samples/css/jquery-ui-1.10.2/jquery-ui.css">
    <link rel="stylesheet" href="src/samples/css/jquery-ui-1.10.2/jquery.ui.progressbar.css">
    <!-- sizes chosen so portrait/landscape will use the same set of assets on most iphones/ipads -->
    <link rel='stylesheet' media='screen and (max-width: 480px)' href='target/dist/res/ios/320w.css' />
    <link rel='stylesheet' media='screen and (min-width: 481px) and (max-width: 1136px)' href='target/dist/res/ios/640w.css' />
    <link rel='stylesheet' media='screen and (min-width: 1137px)' href='target/dist/res/ios/1536w.css' />
    <script>
        window.onload = function () {

            // tab
            var tabElement = document.getElementById("tab");
            var tabControllerFactory = new templa.samples.mvc.tab_index.TabIndexControllerFactory();
            var tabController = tabControllerFactory.create();
            var title = "Templa - Samples";

            var getTitle = function () {
                var fullTitle = title;
                var controllerTitle = tabController.getTitle();
                if (controllerTitle != null && controllerTitle != "") {
                    fullTitle += " - " + controllerTitle;
                }
                return fullTitle;
            }

            var tabModel = tabController.getModel();

            window.onresize = function () {
                tabController.layout();
            };
            tabController.addOnChangeListener(function (source, changeEvent) {
                if (changeEvent.titleChanged) {
                    document.title = getTitle();
                }
            });
            tabController.init(new templa.mvc.element.DirectElementReference(tabElement));
            tabController.start();
            document.title = getTitle();
            var historyManager = new templa.mvc.history.WebHistoryManager(tabController);
            historyManager.start();

        }
    </script>
</head>
<body>

<div id="tab"></div>
</body>

</html>